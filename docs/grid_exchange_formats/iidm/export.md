# Export

<span style="color: red">TODO</span>

## Options
These properties can be defined in the configuration file in the [import-export-parameters-default-value](../../user/configuration/import-export-parameters-default-value.md#import-export-parameters-default-value) module.

**iidm.export.xml.indent**  
The `iidm.export.xml.indent` property is an optional property that defines whether the XIIDM file generated by the XIIDM exporter will be indented or not. Its default value is `true`.

**iidm.export.xml.with-branch-state-variables**  
The `iidm.export.xml.with-branch-state-variables` property is an optional property that defines whether the network will be exported by the XIIDM exporter with branch states variables or not. Its default value is `true`.

**iidm.export.xml.only-main-cc**  
The `iidm.export.xml.only-main-cc` property is an optional property that defines whether the XIIDM exporter only exports the main connected component of the network or not. Its default value is `false`.

**iidm.export.xml.anonymised**  
The `iidm.export.xml.anonymised` property is an optional property that defines whether the XIIDM exporter anonymizes all equipments in the generated file or not. Its default value is `false`.

**iidm.export.xml.topology-level**  
The `iidm.export.xml.topology-level` property is an optional property that defines the most detailed topology in which the XIIDM exporter can export the network. The topology level can be:
- `NODE_BREAKER`: the voltage levels are exported using the [Node/Breaker view](). Voltage levels described in Bus/Breaker topology are exported using the [Bus/Breaker view]().
- `BUS_BREAKER`: all voltage levels are all exported using the [Bus/Breaker view]()
- `BUS_BRANCH`:  all voltage levels are exported using the [Bus view]()

The default value is `NODE_BREAKER` to export all voltage levels in the same level of details than the one they are described.

**iidm.export.xml.throw-exception-if-extension-not-found**  
The `iidm.export.xml.throw-exception-if-extension-not-found` property is an optional property that defines whether the XIIDM exporter throws an exception if the network contains an unknown or unserializable extension or if it just ignores it. Its default value is `false`.

**iidm.export.xml.extensions**  
The `iidm.export.xml.extensions` property is an optional property that defines the list of extensions that we will be exported by the XIIDM exporter. By default all extensions will be exported.

**iidm.export.xml.sorted**  
The `iidm.export.xml.sorted` property is an optional property that defines whether the XIIDM file generated by the XIIDM exporter will be sorted or not for some objects.
Depending on object types the following sorting key has been chosen :
- the id for identifiables
- the name for extensions
- the name for temporary limits
- node1 then node2 for internal connections
- the name for properties of an identifiable

By default, the network components are not sorted.

**iidm.export.xml.version**  
The `iidm.export.xml.version` property is an optional property that defines the XIIDM version to use for the exported file. If the chosen version is not compatible with the network to write, an error occurs. This is typically the case when an attribute appeared in a version more recent than the target one, and its value is not the default one (importing back the file will lead to a different network). By default, the export is done in the more recent version that is supported.

**iidm.export.xml.iidm-version-incompatibility-behavior**
The `iidm.export.xml.iidm-version-incompatibility-behavior` property is an optional property that defines the behavior of the XIIDM exporter when there is a version incompatibility between the IIDM network and the XIIDM version in which the export is done.
There is two possible behaviors:
- `LOG_ERROR`: an error is logged when there is a version incompatibility
- `THROW_EXCEPTION`: an exception is thrown when there is a version incompatibility
  By default, this behavior is set as `THROW_EXCEPTION`

### Removed properties

**iidm.export.xml.export-mode**  
The `iidm.export.xml.export-mode` property is an optional property that defines the export mode of the XIIDM exporter. The export mode can be:
- `UNIQUE_FILE`: Exports the network and its extensions in a unique file.
- `EXTENSIONS_IN_ONE_SEPARATED_FILE`: Exports the network to a file and the extensions to another file. In this mode, if the network file name is `network.xiidm`, the extensions file name must be `network-ext.xiidm`.
- `ONE_SEPARATED_FILE_PER_EXTENSION_TYPE`: Exports the network to a file and each extension type to a separate file. In this mode, if the network file name is `network.xiidm`, each extension file name must be `network-extensionName.xiidm`. Example: if our network has two extensions `loadFoo` and `loadBar`, then the network will be exported to the `network.xiidm` file and `loadFoo` and `loadBar` will be exported respectively to `network-loadFoo.xiidm` and `network-loadBar.xiidm`.

The default value for this parameter is `IidmImportExportMode.NO_SEPARATED_FILE_FOR_EXTENSIONS`. This property has been removed in v3.3.0.

**iidm.export.xml.skip-extensions**  
The `iidm.export.xml.skip-extensions` property is an optional property that defines whether the XIIDM exporter skips exporting the network extensions or not. Its default value is `false`.

This property has been deprecated since v2.4.0 before being removed in v3.3.0. Set the `iidm.export.xml.extensions` to an empty string instead.
